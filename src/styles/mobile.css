/* ============================================
   Mobile Design System — MOBILE ONLY (≤767px)
   Do not affect desktop (md and up).
   ============================================ */

/* On desktop: hide mobile-only blocks (no desktop layout change) */
.mobile-only {
  display: none !important;
}

@media (max-width: 767px) {
  .mobile-only {
    display: block !important;
  }

  .desktop-only {
    display: none !important;
  }

  .mobile-only-flex {
    display: flex !important;
  }

  body {
    overflow-x: hidden;
  }

  /* ---------- A) Container ---------- */
  .mobile-container {
    padding-left: 16px;
    padding-right: 16px;
    max-width: 480px;
    margin-left: auto;
    margin-right: auto;
  }

  .mobile-section-spacing {
    margin-top: 28px;
    margin-bottom: 28px;
  }

  .mobile-section-spacing-lg {
    margin-top: 36px;
    margin-bottom: 36px;
  }

  .mobile-section-spacing-xl {
    margin-top: 40px;
    margin-bottom: 40px;
  }

  /* ---------- B) Typography ---------- */
  .mobile-h1 {
    font-size: clamp(26px, 7vw, 34px) !important;
    line-height: 1.3 !important;
    font-weight: 800 !important;
  }

  .mobile-h2 {
    font-size: clamp(20px, 5vw, 24px) !important;
    line-height: 1.35 !important;
    font-weight: 700 !important;
  }

  .mobile-body {
    font-size: 15px !important;
    line-height: 1.5 !important;
  }

  .mobile-body-lg {
    font-size: 16px !important;
    line-height: 1.6 !important;
  }

  .mobile-paragraph-subtle {
    max-width: 100%;
    opacity: 0.85;
  }

  /* ---------- C) Cards ---------- */
  .mobile-card {
    border-radius: 18px !important;
    box-shadow: 0 2px 12px rgba(0, 0, 0, 0.06) !important;
    border: 1px solid rgba(0, 0, 0, 0.06) !important;
    padding: 14px 16px !important;
  }

  .mobile-card-soft {
    border-radius: 20px !important;
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.06) !important;
    border: 1px solid rgba(59, 130, 246, 0.12) !important;
    padding: 14px 16px !important;
  }

  /* ---------- D) Buttons (Hero) ---------- */
  .mobile-hero-buttons .mobile-btn-block {
    width: 100% !important;
    display: block !important;
    height: 50px !important;
    min-height: 50px !important;
    border-radius: 14px !important;
    margin-bottom: 10px !important;
  }

  .mobile-hero-buttons .mobile-btn-block:last-child {
    margin-bottom: 0;
  }

  /* ---------- E) Performance / compact ---------- */
  .mobile-reduce-height {
    padding-top: 24px !important;
    padding-bottom: 24px !important;
  }

  .mobile-no-min-height {
    min-height: unset !important;
  }

  /* ---------- Navbar ---------- */
  .mobile-navbar-wrap {
    min-height: 52px !important;
    padding-top: 8px !important;
    padding-bottom: 8px !important;
    backdrop-filter: blur(12px);
  }

  /* ---------- Hero compact ---------- */
  .mobile-hero-section {
    min-height: unset !important;
    padding-top: 28px !important;
    padding-bottom: 28px !important;
  }

  .mobile-hero-badge {
    font-size: 12px !important;
    padding: 6px 12px !important;
    margin-bottom: 12px !important;
  }

  .mobile-hero-subline {
    font-size: 15px !important;
    line-height: 1.5 !important;
    margin-bottom: 20px !important;
    max-height: 3em;
    overflow: hidden;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
  }

  .mobile-trust-row {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 12px 20px;
    margin-top: 16px;
    font-size: 13px;
    color: var(--color-heading, #0f172a);
    opacity: 0.9;
  }

  .mobile-trust-row span {
    display: inline-flex;
    align-items: center;
    gap: 4px;
  }

  /* ---------- Stats: horizontal scroll carousel ---------- */
  .mobile-stats-carousel {
    display: flex !important;
    flex-wrap: nowrap !important;
    overflow-x: auto !important;
    scroll-snap-type: x mandatory !important;
    gap: 12px !important;
    margin-top: 20px !important;
    margin-bottom: 8px !important;
    padding-bottom: 8px !important;
    -webkit-overflow-scrolling: touch;
    scrollbar-width: none;
  }

  .mobile-stats-carousel::-webkit-scrollbar {
    display: none;
  }

  .mobile-stats-slide {
    flex: 0 0 75% !important;
    min-width: 75% !important;
    max-width: 75% !important;
    scroll-snap-align: start;
    scroll-snap-stop: always;
  }

  .mobile-stats-dots {
    display: flex;
    justify-content: center;
    gap: 6px;
    margin-top: 8px;
  }

  .mobile-stats-dot {
    width: 6px;
    height: 6px;
    border-radius: 50%;
    background: rgba(59, 130, 246, 0.3);
    transition: background 0.2s;
  }

  .mobile-stats-dot.is-active {
    background: #3b82f6;
    transform: scale(1.2);
  }

  /* ---------- Services: use .mobile-stat-card (no conflicting overrides) ---------- */
  .mobile-services-card {
    margin-bottom: 12px !important;
  }

  /* ---------- Why Us / Benefits: accordion ---------- */
  .mobile-accordion-item {
    border-radius: 16px !important;
    margin-bottom: 8px !important;
    overflow: hidden;
    border: 1px solid rgba(0, 0, 0, 0.06) !important;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04) !important;
  }

  .mobile-accordion-item summary {
    padding: 14px 16px !important;
    font-size: 16px !important;
    font-weight: 600 !important;
    list-style: none;
    display: flex;
    align-items: center;
    gap: 10px;
    cursor: pointer;
  }

  .mobile-accordion-item summary svg {
    width: 22px;
    height: 22px;
    flex-shrink: 0;
  }

  .mobile-accordion-item summary::-webkit-details-marker {
    display: none;
  }

  .mobile-accordion-item[open] summary {
    border-bottom: 1px solid rgba(0, 0, 0, 0.06);
  }

  .mobile-accordion-item .mobile-accordion-body {
    padding: 12px 16px 16px !important;
    font-size: 15px !important;
    line-height: 1.5 !important;
    opacity: 0.9;
  }

  /* ---------- Testimonials: one card ---------- */
  .mobile-testimonial-card {
    padding: 16px !important;
    border-radius: 18px !important;
    min-height: unset !important;
  }

  .mobile-testimonial-text {
    font-size: 15px !important;
    line-height: 1.5 !important;
    display: -webkit-box;
    -webkit-line-clamp: 4;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  /* ---------- FAQ ---------- */
  .mobile-faq-item {
    border-radius: 14px !important;
    margin-bottom: 8px !important;
    overflow: hidden;
    border: 1px solid rgba(0, 0, 0, 0.06) !important;
  }

  .mobile-faq-item summary {
    padding: 14px 16px !important;
    font-size: 15px !important;
    font-weight: 600 !important;
    list-style: none;
    cursor: pointer;
  }

  .mobile-faq-item summary::-webkit-details-marker {
    display: none;
  }

  .mobile-faq-item .mobile-faq-answer {
    padding: 12px 16px 16px !important;
    font-size: 14px !important;
    line-height: 1.5 !important;
    opacity: 0.9;
  }

  /* ---------- CTA bottom: card style ---------- */
  .mobile-cta-card {
    border-radius: 20px 20px 0 0 !important;
    padding: 16px !important;
    box-shadow: 0 -4px 24px rgba(0, 0, 0, 0.08) !important;
  }

  .mobile-cta-card .mobile-cta-text {
    font-size: 15px !important;
    margin-bottom: 12px !important;
    line-height: 1.4 !important;
  }

  .mobile-cta-card .mobile-cta-btn {
    width: 100% !important;
    height: 52px !important;
    border-radius: 14px !important;
    font-weight: 700 !important;
    font-size: 16px !important;
  }

  /* ---------- Footer compact ---------- */
  .mobile-footer-compact {
    padding-top: 24px !important;
    padding-bottom: 20px !important;
  }

  .mobile-footer-compact .mobile-footer-links {
    margin-top: 16px;
    margin-bottom: 16px;
  }

  .mobile-footer-compact .mobile-footer-copy {
    font-size: 13px !important;
    margin-top: 16px !important;
  }

  /* ---------- Animations (respect prefers-reduced-motion) ---------- */
  @media (prefers-reduced-motion: no-preference) {
    .mobile-animate-in {
      opacity: 0;
      transform: translateY(12px);
      transition: opacity 0.4s ease-out, transform 0.4s ease-out;
    }

    .mobile-animate-in.is-visible {
      opacity: 1;
      transform: translateY(0);
    }

    .mobile-animate-in.stagger-1 { transition-delay: 0.05s; }
    .mobile-animate-in.stagger-2 { transition-delay: 0.1s; }
    .mobile-animate-in.stagger-3 { transition-delay: 0.15s; }
    .mobile-animate-in.stagger-4 { transition-delay: 0.2s; }
    .mobile-animate-in.stagger-5 { transition-delay: 0.25s; }
  }

  @media (prefers-reduced-motion: reduce) {
    .mobile-animate-in {
      opacity: 1;
      transform: none;
      transition: none;
    }
  }

  /* ---------- Utility: hide on mobile when we show alternate ---------- */
  .mobile-hide {
    display: none !important;
  }

  .mobile-show {
    display: block !important;
  }

  .mobile-show-flex {
    display: flex !important;
  }
}

/* ============================================
   Refined mobile animation — MOBILE ONLY (≤768px)
   Fade-in for headings/body/buttons, scale+fade for cards.
   Trigger once via IntersectionObserver on .mobile-reveal-root.
   ============================================ */
@media (max-width: 768px) {
  /* ---------- CTA buttons: flex, arrow inside, hide "לדבר עכשיו" ---------- */
  .mobile-hero-buttons .mobile-btn-block {
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    gap: 8px !important;
    width: 100% !important;
    border-radius: 14px !important;
    padding: 14px 18px !important;
  }

  .mobile-hero-buttons .mobile-btn-block svg {
    display: inline-flex !important;
    align-items: center !important;
    position: static !important;
    margin: 0 !important;
    transform: none !important;
  }

  .mobile-cta-dabar-hide {
    display: none !important;
  }

  /* ---------- Services: horizontal carousel (mobile only) ---------- */
  .services-carousel {
    display: flex !important;
    overflow-x: auto !important;
    gap: 16px !important;
    padding: 0 16px !important;
    scroll-snap-type: x mandatory !important;
    -webkit-overflow-scrolling: touch !important;
    margin-bottom: 32px !important;
  }

  .services-carousel::-webkit-scrollbar {
    display: none !important;
  }

  .services-carousel .carousel-item {
    min-width: 85% !important;
    flex: 0 0 auto !important;
    scroll-snap-align: center !important;
  }

  /* ---------- Process: center number circle at top (mobile only) ---------- */
  .process-card {
    position: relative !important;
    padding-top: 40px !important;
  }

  .process-number {
    width: 60px !important;
    height: 60px !important;
    font-size: 18px !important;
    margin: 0 auto 16px auto !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
  }

  /* ---------- Testimonials: hide quote icon on mobile ---------- */
  .quote-icon {
    display: none !important;
  }

  /* ---------- Stat card style (Hero + Services): same class, same layout ---------- */
  .mobile-stat-card {
    position: relative !important;
    background: #ffffff !important;
    border-radius: 16px !important;
    overflow: hidden !important;
    border: 2px solid #e2e8f0 !important;
    padding: 32px 16px !important;
    display: flex !important;
    flex-direction: column !important;
    align-items: center !important;
    text-align: center !important;
  }

  .mobile-stat-card > div {
    display: flex !important;
    flex-direction: column !important;
    align-items: center !important;
    width: 100% !important;
    padding: 0 !important;
    text-align: center !important;
  }

  .mobile-stat-card .mobile-stat-icon-circle {
    width: 56px !important;
    height: 56px !important;
    min-width: 56px !important;
    min-height: 56px !important;
    border-radius: 50% !important;
    margin: 0 auto 12px !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    box-shadow: 0 10px 30px rgba(59, 130, 246, 0.3) !important;
  }

  .mobile-stat-card .mobile-stat-icon-circle > * {
    font-size: 28px !important;
  }

  .mobile-stat-card .mobile-card-title {
    text-align: center !important;
    margin-bottom: 8px !important;
    font-size: 1.1rem !important;
  }

  .mobile-stat-card .mobile-card-desc {
    text-align: center !important;
    margin-bottom: 0 !important;
    font-size: 0.875rem !important;
    line-height: 1.5 !important;
    -webkit-line-clamp: unset !important;
    display: block !important;
    overflow: visible !important;
  }

  @media (prefers-reduced-motion: no-preference) {
    .mobile-reveal-root .mobile-animate-heading {
      opacity: 0;
      transition: opacity 0.5s cubic-bezier(0.4, 0, 0.2, 1);
    }
    .mobile-reveal-root.is-visible .mobile-animate-heading {
      opacity: 1;
    }

    .mobile-reveal-root .mobile-animate-body {
      opacity: 0;
      transition: opacity 0.5s cubic-bezier(0.4, 0, 0.2, 1);
      transition-delay: 120ms;
    }
    .mobile-reveal-root.is-visible .mobile-animate-body {
      opacity: 1;
    }

    .mobile-reveal-root .mobile-animate-btn {
      opacity: 0;
      transition: opacity 0.5s cubic-bezier(0.4, 0, 0.2, 1);
      transition-delay: 240ms;
    }
    .mobile-reveal-root.is-visible .mobile-animate-btn {
      opacity: 1;
    }

    .mobile-reveal-root .mobile-animate-card {
      opacity: 0;
      transform: scale(0.96);
      transition: opacity 0.5s cubic-bezier(0.4, 0, 0.2, 1), transform 0.5s cubic-bezier(0.4, 0, 0.2, 1);
    }
    .mobile-reveal-root.is-visible .mobile-animate-card {
      opacity: 1;
      transform: scale(1);
    }
  }

  @media (prefers-reduced-motion: reduce) {
    .mobile-reveal-root .mobile-animate-heading,
    .mobile-reveal-root .mobile-animate-body,
    .mobile-reveal-root .mobile-animate-btn,
    .mobile-reveal-root .mobile-animate-card {
      opacity: 1;
      transform: none;
      transition: none;
    }
  }
}

/* Desktop: keep services as grid (unchanged) */
@media (min-width: 769px) {
  .services-carousel {
    display: grid !important;
    grid-template-columns: repeat(3, 1fr) !important;
    gap: 32px !important;
    overflow: visible !important;
    padding: 0 !important;
    margin-bottom: 32px !important;
  }
  .services-carousel .carousel-item {
    min-width: unset !important;
  }
}
